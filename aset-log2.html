<!DOCTYPE html>
<html>
<head><title>uGigUs JSON Logger</title></head>
<body>
  <h1>Logging Data...</h1>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const jsonParam = urlParams.get("json");

    if (jsonParam) {
      const parsedData = JSON.parse(decodeURIComponent(jsonParam));

      fetch("https://script.google.com/macros/s/AKfycbyoNBo8DekZ0pAu4WP3U6a5CSbX-PDnCyy6pnk1mY-iQq42Aigdl9bgYW1aMTFw4S0/exec", {
        method: "POST",
        contentType: "application/json",
        body: JSON.stringify(parsedData)
      })
      .then(response => response.text())
      .then(result => {
        document.body.innerHTML = "<h2>Submitted: " + result + "</h2>";
      })
      .catch(error => {
        document.body.innerHTML = "<h2>Error: " + error.message + "</h2>";
      });
    } else {
      document.body.innerHTML = "<h2>No data to log</h2>";
    }
  </script>
</body>
</html>
